# Next.js Infinite Carousel

Next.js + TypeScript + Tailwind CSSで実装した、外部ライブラリ不使用の無限カルーセルコンポーネントです。

- Swiper風のアニメーション・挙動を独自実装
- 画像は10枚の絵文字カード（表裏flipアニメ付き）
- PC/モバイルでスライド数や操作性が最適化
- オートスクロール・スワイプ・ドラッグ・レスポンシブ対応

## 🚀 主な機能

- **無限スクロール**: 左右どちらにも無限に循環
- **レスポンシブ**: モバイル/PCでスライド数やUI自動調整
- **スワイプ/ドラッグ**: タッチ・マウス両対応
- **オートスクロール**: 1秒ごとに自動で右へスライド（操作中は一時停止・一度操作すると以降は自動スクロールが停止します）
- **カードflipアニメーション**: スライド時に表裏が反転
- **動的タイトル/カテゴリ表示**: カードごとに絵文字名・カテゴリを表示
- **パステル/ダークカラー**: カードごとにランダムな背景色

## 🛠️ 使用ライブラリ

- **next**: 15.3.3
- **react**: 19.x
- **react-dom**: 19.x
- **emoji-dictionary**: 絵文字名取得用
- **unicode-emoji-json**: 絵文字カテゴリ取得用
- **tailwindcss**: 4.x
- **typescript**: 5.x
- **eslint**: 9.x

## ⚙️ 環境構築・セットアップ

- **Node.js**: v18以上推奨

```bash
# 依存インストール
npm install

# 開発サーバー起動
npm run dev

# Lint
npm run lint

# 型チェック
npx tsc --noEmit
```

## 使い方

```tsx
import { InfiniteCarousel } from '@/components/InfiniteCarousel';

export default function Home() {
  return <InfiniteCarousel />;
}
```

- 画像はデフォルトで10枚の絵文字カード（表裏flip）
- カスタマイズしたい場合は`InfiniteCarousel.tsx`内の定数やロジックを編集

## 🖌️ アニメーション・UIのこだわり

- **Swiper風の詳細設定**: スライド速度・イージング・ループ・スナップ・抵抗感などを細かく再現
- **flipInXアニメーション**: スライド時にカードが表→裏→表と反転
- **カードごとに色をランダム割当**: パステル/ダーク系から自動選択
- **カードのテキスト色は背景色から自動補色**
- **PC/モバイルでスライド数・幅・アニメ挙動が自動切替**
- **カードのタイトル・カテゴリは動的に絵文字名/カテゴリを表示**
- **オートスクロールはユーザー操作時に自動停止し、離すと再開**
- **Tailwind CSSで柔軟にデザイン調整可能**

## 📱 対応デバイス・操作

- **PC**: マウスドラッグでスライド、左右ボタン
- **モバイル**: タッチスワイプ、左右ボタン
- **タブレット**: 両対応

## 🔧 カスタマイズ例

- スライド数やアニメーション速度は`InfiniteCarousel.tsx`の`SWIPER_CONFIG`で調整
- カードのサイズ・色・間隔はTailwindクラスや定数で調整
- 絵文字以外の画像やSVGに差し替えも可能

## 📁 ディレクトリ構成

```
next-infinite-carousel/
├── src/
│   ├── app/
│   │   ├── layout.tsx
│   │   ├── page.tsx
│   │   └── globals.css
│   └── components/
│       └── InfiniteCarousel.tsx
├── public/
│   ├── next.svg
│   ├── vercel.svg
│   ├── globe.svg
│   ├── window.svg
│   └── file.svg
├── package.json
└── README.md
```

## 📝 状態管理

- `currentIndex`: 現在のスライド位置
- `isDragging`: ドラッグ/スワイプ中か
- `translateX`: 現在の移動量
- `isAnimating`: アニメーション中か
- `flippedIndexes`: flipアニメ中のインデックス集合
- `isAutoScrollStopped`: オートスクロール一時停止フラグ

## 🎲 絵文字が毎回ランダム生成される仕組み

このカルーセルでは、表示中のカードとその前後（先読み分）だけを「動的な配列」として管理しています。スライドを進めたり戻したりするたびに、

- 画面に表示される分＋先読み分だけの絵文字ペア配列を保持
- 進むときは末尾に新しい絵文字を追加し、先頭を削除
- 戻るときは先頭に新しい絵文字を追加し、末尾を削除
- 新しい絵文字は、現在表示・先読み中の絵文字と重複しないようにランダム生成

というロジックで、**常に新しい絵文字がランダムに生成され、同じ絵文字が繰り返し出現しません**。

この仕組みにより、無限にスライドしても毎回異なる絵文字が現れ、ユーザー体験が単調にならないよう工夫されています。

## 制限事項

- 画像は10枚固定（デフォルト）
- 外部UIライブラリ不使用
- カスタマイズはソース編集で対応

## 🤝 貢献

プルリク・イシュー歓迎！

## 📄 ライセンス

MIT License

## 🌟 アピールポイント

- **外部ライブラリ不使用でのUI/UX再現力**  
  Swiper等の有名ライブラリを使わず、アニメーション・無限スクロール・スワイプ挙動をすべて自作。ライブラリ内部の挙動を分析し、React/Next.jsの設計思想に沿って再現しました。

- **TypeScriptによる型安全な実装**  
  状態管理やprops、ユーティリティ関数まで型定義を徹底し、保守性・拡張性を意識した設計を行いました。

- **レスポンシブ&アクセシビリティ対応**  
  PC/モバイルでの操作性やUI最適化、キーボード操作やaria属性などアクセシビリティにも配慮しています。

- **アニメーション・デザインへのこだわり**  
  Tailwind CSSを活用し、柔軟かつ美しいUIを実現。flipアニメや色彩設計など、細部までユーザー体験を意識しました。

- **パフォーマンス・最適化**  
  必要な絵文字カードのみを動的に管理し、無限スクロールでもメモリ効率・パフォーマンスを維持しています。

- **実務・チーム開発を意識した設計**  
  コンポーネント分割や命名規則、コメント・READMEの充実など、他者が見ても分かりやすいコードを心がけました。

## 👨‍�� 開発者

zabuton-100
